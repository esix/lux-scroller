{"version":3,"file":"scrolinka.umd.js","sources":["../src/Vec2.ts","../src/ScrollController.ts"],"sourcesContent":["export interface IVec2 {\n  x: number;\n  y: number;\n}\n\nexport class Vec2 implements IVec2 {\n  constructor(public x: number, public y: number) {\n    //\n  }\n\n  public eq(v: IVec2): boolean {\n    return (this.x === v.x) && (this.y === v.y);\n  }\n\n  public neg(): Vec2 {\n    return new Vec2(-this.x, -this.y);\n  }\n\n  public add(v: IVec2): Vec2 {\n    return new Vec2(this.x + v.x, this.y + v.y);\n  }\n\n  public sub(v: IVec2): Vec2 {\n    return new Vec2(this.x - v.x, this.y - v.y);\n  }\n  \n  public inv(): Vec2 {\n    return new Vec2(1 / this.x, 1 / this.y);\n  }\n\n  public mul(n: number): Vec2 {\n    return new Vec2(this.x * n, this.y * n);\n  }\n\n  public div(n: number): Vec2 {\n    return new Vec2(this.x / n, this.y / n);\n  }\n\n  public div2(): Vec2 {\n    return new Vec2(this.x / 2, this.y / 2);\n  }\n\n  public dot(v: IVec2): number {\n    return this.x * v.x + this.y * v.y;\n  }\n\n  public hadamard(v: IVec2): Vec2 {\n    return new Vec2(this.x * v.x, this.y * v.y);\n  }\n\n  public len(): number {\n    return Math.sqrt(this.x * this.x + this.y * this.y);\n  }\n\n  public unit(): Vec2 {\n    return this.div(this.len());\n  }\n\n  public a(): number {\n    return Math.atan2(this.y, this.x);\n  }\n\n  public clone(): Vec2 {\n    return new Vec2(this.x, this.y);\n  }\n\n  public toString(): string {\n    return `(${this.x}, ${this.y})`;\n  }\n\n  // static\n\n  public static eq(v1: IVec2, v2: IVec2): boolean {\n    return (v1.x === v2.x) && (v1.y === v2.y);\n  }\n\n  public static neg(v: IVec2): Vec2 {\n    return new Vec2(-v.x, -v.y);\n  }\n\n  public static add(v1: IVec2, v2: IVec2): Vec2 {\n    return new Vec2(v1.x + v2.x, v1.y + v2.y);\n  }\n\n  public static sub(v1: IVec2, v2: IVec2): Vec2 {\n    return new Vec2(v1.x - v2.x, v1.y - v2.y);\n  }\n\n  public static inv(v: IVec2): Vec2 {\n    return new Vec2(1 / v.x, 1 / v.y);\n  }\n\n  public static mul(v: IVec2, n: number): Vec2 {\n    return new Vec2(v.x * n, v.y * n);\n  }\n\n  public static div(v: IVec2, n: number): Vec2 {\n    return new Vec2(v.x / n, v.y / n);\n  }\n\n  public static div2(v: IVec2): Vec2 {\n    return new Vec2(v.x / 2, v.y / 2);\n  }\n\n  public static dot(v1: IVec2, v2: IVec2): number {\n    return v1.x * v2.x + v1.y * v2.y;\n  }\n\n  public static hadamard(v1: IVec2, v2: IVec2): Vec2 {\n    return new Vec2(v1.x * v2.x, v1.y * v2.y);\n  }\n\n  public static len(v: IVec2): number {\n    return Math.sqrt(v.x * v.x + v.y * v.y);\n  }\n\n  public static unit(v: IVec2): Vec2 {\n    return Vec2.div(v, Vec2.len(v));\n  }\n\n  public static a(v: IVec2): number {\n    return Math.atan2(v.y, v.x);\n  }\n\n  public static clone(v: IVec2): Vec2 {\n    return new Vec2(v.x, v.y);\n  }\n\n  public static make(x: number, y: number): Vec2 {\n    return new Vec2(x, y);\n  }\n}\n","import { IScrollerOptions } from './IScrollerOptions';\nimport { IVec2, Vec2 } from './Vec2'\n\n\n\nexport interface IPosition {\n  // public\n  isMoving: boolean;\n  zoomX: number;\n  zoomY: number;\n  width: number;\n  height: number;\n  left: number;\n  top: number;\n  // right: number;\n  // bottom: number;\n  // internal\n  containerSize: IVec2;           // container size\n  viewportSize: IVec2;            // viewport size\n  zoom: IVec2;                    // zoom\n  center: IVec2;                  // center\n  lx: number;                     // left x\n  ty: number;                     // top y\n  rx: number;                     // right x\n  by: number;                     // bottom y\n}\n\n\nfunction createPosition(center: Vec2, zoom: Vec2, containerSize: Vec2): IPosition {\n  const viewportSize: Vec2 = containerSize.hadamard(zoom.inv());\n  const lt: Vec2 = center.sub(viewportSize.div(2));\n  const rb: Vec2 = lt.add(viewportSize);\n\n  return Object.freeze({\n    isMoving: false,\n    zoomX: zoom.x,\n    zoomY: zoom.y,\n    width: viewportSize.x,\n    height: viewportSize.y,\n    left: lt.x,\n    top: lt.y,\n    // \n    containerSize, viewportSize, zoom, center, \n    lx: lt.x, \n    ty: lt.y,\n    rx: rb.x,\n    by: rb.y,\n  });\n}\n\n\nexport class ScrollController {\n  private _containerSize: Vec2;\n  private _innerSize: Vec2;\n  private _center: Vec2;\n  private _zoom: Vec2;\n  private _v: Vec2;\n  private _pos:  IPosition;\n  private _lastTs: number;\n\n  private _touch: Vec2 | null = null;\n\n  public constructor(options: IScrollerOptions) {\n    this._containerSize = new Vec2(options.containerWidth, options.containerHeight);\n    this._innerSize = new Vec2((typeof options.contentWidth === 'number') ? options.contentWidth : this._containerSize.x,\n                               (typeof options.contentHeight === 'number') ? options.contentHeight : this._containerSize.y)\n\n    const lt = new Vec2((typeof options.initialX === 'number') ? options.initialX : 0, (typeof options.initialY === 'number') ? options.initialY : 0);\n    this._center = lt.add(this._containerSize.div(2));\n\n    this._zoom = new Vec2(1, 1);\n    this._v = new Vec2(0, 0);\n\n    this._pos = createPosition(this._center, this._zoom, this._containerSize);\n    this._lastTs = new Date().valueOf();\n  }\n\n  public getPosition(): IPosition {\n    this._updatePosition();\n    return this._pos;\n  }\n\n  public setContainerSize(width: number, height: number): void {\n    //\n  }\n\n  public setContentSize(width: number, height: number): void {\n    //\n  }\n\n  public onTouchStart(containerX: number, containerY: number): void {\n    const outerPos = new Vec2(containerX, containerY);\n    const innerPos = this._innerFromContainer(outerPos);\n    console.log('onTouchStart outer:', outerPos.toString(), 'inner:', innerPos.toString());\n    this._touch = innerPos;\n  }\n\n  public onTouchMove(containerX: number, containerY: number): void {\n    if (this._touch) {\n      const outerPos = new Vec2(containerX, containerY);\n      const innerPos = this._innerFromContainer(outerPos);\n      this._center = this._touch.sub(outerPos.sub(this._containerSize.div2()).hadamard(this._zoom.inv()))\n    }\n  }\n\n  public onTouchEnd(containerX: number, containerY: number): void {\n    if (this._touch) {\n      console.log('onTouchEnd');\n      this._touch = null;\n    }    \n  }\n\n  public onZoomIn(dZoom: number, containerX: number, containerY: number): void {\n    this._zoom = this._zoom.hadamard({x: 1.1, y:1});\n  }\n\n  public onZoomOut(dZoom: number, containerX: number, containerY: number): void {\n    this._zoom = this._zoom.hadamard({x: 1/1.1, y:1});\n  }\n  // private section\n  \n  private _updatePosition() {\n    const ts: number = new Date().valueOf();\n    const newPos = createPosition(this._center, this._zoom, this._containerSize);;\n    if (newPos.left !== this._pos.left || newPos.top !== this._pos.top) {\n      this._pos = newPos;\n    }\n  }\n\n  private _innerFromContainer(outerPos: Vec2): Vec2 {\n    return outerPos.sub(this._containerSize.div2()).hadamard(this._zoom.inv()).add(this._center);\n  }\n}\n"],"names":[],"mappings":"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"}